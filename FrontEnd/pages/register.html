<!doctype html>
<html lang="vi"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Register</title>
<link rel="stylesheet" href="../assets/styles.css">
<script src="../js/config.js"></script>
<script src="../js/api.js"></script>
<script src="../js/util.js"></script>
</head>
<body onload="updateNavAuth(); setBaseUrlHint()">
<header><div>TourBooking FE</div><nav>
<a href="../index.html">Home</a>
<a href="../pages/tours.html">Tours</a>
<a href="../pages/my-bookings.html" class="nav-my" style="display:none">My bookings</a>
<a href="../pages/admin/dashboard.html" class="nav-admin" style="display:none">Admin</a>
<a href="../pages/login.html" class="nav-login">Login</a>
<a href="#" onclick="logout()" class="nav-logout" style="display:none">Logout</a>
</nav></header>
<div class="container"><div class="notice">API base: <b id="baseUrlHint"></b></div>

<div class="card">
  <h3>Đăng ký</h3>
  <div class="row">
    <input id="username" class="input" placeholder="Username">
    <input id="email" class="input" placeholder="Email">
    <input id="phone" class="input" placeholder="Số điện thoại">
    <input id="password" type="password" class="input" placeholder="Mật khẩu">
    <button class="btn" onclick="doRegister()">Register</button>
    <a class="btn secondary" href="./login.html">Login</a>
  </div>
  <div id="msg"></div>
</div>
<script>
async function doRegister(){
  const username = document.getElementById('username').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const password = document.getElementById('password').value;
  try{
    await api('/auth/register',{ method:'POST', body:{username,email,phone,password} });
    document.getElementById('msg').innerHTML = '<span class="success">Đăng ký thành công, vui lòng đăng nhập.</span>';
  }catch(e){ document.getElementById('msg').innerHTML = '<span class="error">'+e.message+'</span>'; }
}
</script>
</div><footer>© TourBooking FE • vanilla HTML/CSS/JS</footer></body></html>